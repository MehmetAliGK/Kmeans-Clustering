#include "matplotlibcpp.h"
#include "KMeans.h" // KMeans sınıfının header dosyası

namespace plt = matplotlibcpp;

int main() {
    // K-means kümeleme işlemini gerçekleştirin ve sonuçları elde edin
    KMeans kmeans(2); // K = 2 için örnek bir KMeans nesnesi oluşturun
    kmeans.readSamplesFromFile("40.txt");
    kmeans.performKMeansClustering();

    // Verileri ve küme merkezlerini alın
    std::vector<Sample> samples = kmeans.getSamples();
    std::vector<Cluster> clusters = kmeans.getClusters();

    // Verileri ve küme merkezlerini çizmek için x ve y koordinatlarını ayırın
    std::vector<double> dataX, dataY, centerX, centerY;

    for (const Sample& sample : samples) {
        dataX.push_back(sample.getX());
        dataY.push_back(sample.getY());
    }

    for (const Cluster& cluster : clusters) {
        centerX.push_back(cluster.getCenterX());
        centerY.push_back(cluster.getCenterY());
    }

    // Verileri çizin
    plt::scatter(dataX, dataY, 10); // Noktaları çizin
    plt::scatter(centerX, centerY, 100, "r", "x"); // Küme merkezlerini çizin

    // Grafik ayarlarını yapın
    plt::xlabel("X Koordinatı");
    plt::ylabel("Y Koordinatı");
    plt::title("K-Means Kümeleme Sonuçları");

    // Grafiği göster
    plt::show();

    return 0;
}
